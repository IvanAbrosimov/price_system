# Price System v3.0

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤ –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏.

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
input/*.xlsx  ‚Üí  python3 build.py  ‚Üí  PostgreSQL  ‚Üí  –í–µ–±-—Å–∞–π—Ç
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
price_system/
‚îú‚îÄ‚îÄ input/                    # –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ all_Euroelectric.xlsx # –ü—Ä–∞–π—Å EuroElectric
‚îÇ   ‚îú‚îÄ‚îÄ Axima_price.xlsx      # –ü—Ä–∞–π—Å Axima (Wago)
‚îÇ   ‚îú‚îÄ‚îÄ ostatki_Euroelectric.xlsx  # –û—Å—Ç–∞—Ç–∫–∏ –ê–ª–º–∞—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ dostupnost_Euroelectric.xlsx # –û—Å—Ç–∞—Ç–∫–∏ –ê—Å—Ç–∞–Ω–∞
‚îÇ   ‚îî‚îÄ‚îÄ settings.xlsx         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∫—É—Ä—Å, –º–∞—Ä–∂–∞)
‚îÇ
‚îú‚îÄ‚îÄ output/                   # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ INTERNAL.xlsx        # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø—Ä–∞–π—Å (–¥–∏–ª–µ—Ä—Å–∫–∏–µ —Ü–µ–Ω—ã)
‚îÇ   ‚îî‚îÄ‚îÄ PUBLIC.xlsx          # –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –ø—Ä–∞–π—Å (—Å –º–∞—Ä–∂–æ–π)
‚îÇ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ build.py             # –°–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –ë–î
‚îÇ
‚îî‚îÄ‚îÄ price-catalog/           # –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    ‚îú‚îÄ‚îÄ server/              # Backend (Express + PostgreSQL)
    ‚îî‚îÄ‚îÄ client/              # Frontend (React + TailwindCSS)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# Python
pip3 install pandas openpyxl psycopg2-binary

# Node.js
cd price-catalog/client && npm install
cd ../server && npm install
```

### 2. –ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ß–µ—Ä–µ–∑ Docker
cd price-catalog && docker-compose up -d db
```

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –£–∫–∞–∂–∏—Ç–µ DATABASE_URL
export DATABASE_URL="postgresql://postgres:postgres@localhost:5432/price_catalog"

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥
python3 scripts/build.py
```

### 4. –ó–∞–ø—É—Å–∫ —Å–∞–π—Ç–∞

```bash
# Frontend
cd price-catalog/client && npm run dev

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker (–≤—Å—ë –≤–º–µ—Å—Ç–µ)
cd price-catalog && docker-compose up
```

## üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–¢–∞–±–ª–∏—Ü–∞ –∫–∞–∫ –≤ Google Sheets** - –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
- **–¢–∞–±—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π** - –≤–Ω–∏–∑—É –∫–∞–∫ –ª–∏—Å—Ç—ã
- **–ü–æ–∏—Å–∫** - –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É –∏ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é
- **–ö–æ—Ä–∑–∏–Ω–∞** - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ (localStorage)
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ä–æ–∫–∏** - –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ –æ—Å—Ç–∞—Ç–∫–æ–≤

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É `input/`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python3 scripts/build.py`
3. –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤—è—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (settings.xlsx)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| kurs | –ö—É—Ä—Å KZT/RUB |
| global_margin | –ë–∞–∑–æ–≤–∞—è –Ω–∞—Ü–µ–Ω–∫–∞ (0.6 = 60%) |
| database_url | PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ |

## üì¶ –î–µ–ø–ª–æ–π

–î–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Railway —Å–º–æ—Ç—Ä–∏—Ç–µ [price-catalog/DEPLOY.md](price-catalog/DEPLOY.md)
